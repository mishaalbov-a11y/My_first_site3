{% extends "main.html" %}

{% block content %}
<div class="main-content d-flex justify-content-center align-items-start py-5">
  <div class="content-container w-100" style="max-width: 900px;">
    <h2 class="mb-4 text-center">–ü—Ä–æ—Ñ–æ—Ä–∏–µ–Ω—Ç–∞—Ü–∏–æ–Ω–Ω—ã–π —Ç–µ—Å—Ç –¥–ª—è –ø–æ–¥–≥–æ—Ç–æ–≤–∫–∏ –∫ –ï–ì–≠</h2>

    <form id="subjectForm" class="mx-auto" style="max-width: 700px;">

      <!-- 1Ô∏è‚É£ –†–∞–∑–¥–µ–ª: –ü—Ä–µ–¥–º–µ—Ç—ã, –∫–æ—Ç–æ—Ä—ã–µ –Ω—Ä–∞–≤—è—Ç—Å—è (–ú–ù–û–ñ–ï–°–¢–í–ï–ù–ù–´–ô –í–´–ë–û–†) -->
      <div class="mb-5">
        <h4 class="mb-3 text-primary text-center">1. –ö–∞–∫–∏–µ –ø—Ä–µ–¥–º–µ—Ç—ã —Ç–µ–±–µ –Ω—Ä–∞–≤—è—Ç—Å—è –≤ —à–∫–æ–ª–µ?</h4>
        <div class="row">
          {% set subjects = [
            '–†—É—Å—Å–∫–∏–π —è–∑—ã–∫', '–õ–∏—Ç–µ—Ä–∞—Ç—É—Ä–∞', '–ò–Ω–æ—Å—Ç—Ä–∞–Ω–Ω—ã–π —è–∑—ã–∫', '–ò—Å—Ç–æ—Ä–∏—è', '–û–±—â–µ—Å—Ç–≤–æ–∑–Ω–∞–Ω–∏–µ',
            '–ì–µ–æ–≥—Ä–∞—Ñ–∏—è', '–ú–∞—Ç–µ–º–∞—Ç–∏–∫–∞', '–ò–Ω—Ñ–æ—Ä–º–∞—Ç–∏–∫–∞', '–§–∏–∑–∏–∫–∞', '–ë–∏–æ–ª–æ–≥–∏—è', '–•–∏–º–∏—è',
            '–ò–∑–æ–±—Ä–∞–∑–∏—Ç–µ–ª—å–Ω–æ–µ –∏—Å–∫—É—Å—Å—Ç–≤–æ', '–ú—É–∑—ã–∫–∞', '–¢—Ä—É–¥ (—Ç–µ—Ö–Ω–æ–ª–æ–≥–∏—è)',
            '–û—Å–Ω–æ–≤—ã –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ –∏ –∑–∞—â–∏—Ç—ã —Ä–æ–¥–∏–Ω—ã', '–§–∏–∑–∏—á–µ—Å–∫–∞—è –∫—É–ª—å—Ç—É—Ä–∞', '–ê—Å—Ç—Ä–æ–Ω–æ–º–∏—è'
          ] %}
          {% for subj in subjects %}
          <div class="col-md-6 col-lg-4 mb-2">
            <div class="form-check">
              <input class="form-check-input" type="checkbox" id="like_{{ loop.index }}" name="like" value="{{ subj }}">
              <label class="form-check-label" for="like_{{ loop.index }}">{{ subj }}</label>
            </div>
          </div>
          {% endfor %}
        </div>
      </div>

      <!-- üîπ –†–∞–∑–¥–µ–ª 2: –ö–∞—Ä—å–µ—Ä–Ω–∞—è —Ç—Ä–∞–µ–∫—Ç–æ—Ä–∏—è (–û–î–ò–ù–û–ß–ù–´–ô –í–´–ë–û–†) -->
      <div class="mb-5">
        <h4 class="mb-3 text-primary text-center">2. –ö–∞–∫–∞—è –∫–∞—Ä—å–µ—Ä–Ω–∞—è —Ç—Ä–∞–µ–∫—Ç–æ—Ä–∏—è —Ç–µ–±—è –±–æ–ª—å—à–µ –ø—Ä–∏–≤–ª–µ–∫–∞–µ—Ç?</h4>
        <div class="form-check mb-2">
          <input class="form-check-input" type="radio" name="career_path" id="career1" value="—Ä—É–∫–æ–≤–æ–¥–∏—Ç–µ–ª—å">
          <label class="form-check-label" for="career1">–í—ã—Ä–∞—Å—Ç–∏ –∏–∑ —Å–ø–µ—Ü–∏–∞–ª–∏—Å—Ç–∞ –≤ —Ä—É–∫–æ–≤–æ–¥–∏—Ç–µ–ª—è –≤—ã—Å–æ–∫–æ–≥–æ —É—Ä–æ–≤–Ω—è</label>
        </div>
        <div class="form-check mb-2">
          <input class="form-check-input" type="radio" name="career_path" id="career2" value="—ç–∫—Å–ø–µ—Ä—Ç">
          <label class="form-check-label" for="career2">–°—Ç–∞—Ç—å –≤—ã—Å–æ–∫–æ–∫–ª–∞—Å—Å–Ω—ã–º —Å–ø–µ—Ü–∏–∞–ª–∏—Å—Ç–æ–º, —ç–∫—Å–ø–µ—Ä—Ç–æ–º –≤ —Å–≤–æ–µ–π –æ–±–ª–∞—Å—Ç–∏</label>
        </div>
        <div class="form-check mb-2">
          <input class="form-check-input" type="radio" name="career_path" id="career3" value="–ø—Ä–µ–¥–ø—Ä–∏–Ω–∏–º–∞—Ç–µ–ª—å">
          <label class="form-check-label" for="career3">–ù–∞–±—Ä–∞—Ç—å—Å—è –æ–ø—ã—Ç–∞ –∏ –Ω–∞—á–∞—Ç—å —Å–≤–æ—ë –¥–µ–ª–æ, —Ä–∞–±–æ—Ç–∞—Ç—å –Ω–∞ —Å–µ–±—è</label>
        </div>
      </div>

      <!-- üîπ –†–∞–∑–¥–µ–ª 3: –¢–∏–ø —Ä–∞–±–æ—Ç—ã (–û–î–ò–ù–û–ß–ù–´–ô –í–´–ë–û–†) -->
      <div class="mb-5">
        <h4 class="mb-3 text-primary text-center">3. –ü—Ä–µ–¥—Å—Ç–∞–≤—å, —á—Ç–æ –≤ –º–∏—Ä–µ –æ—Å—Ç–∞–ª–æ—Å—å –¥–≤–∞ —Ç–∏–ø–∞ —Ä–∞–±–æ—Ç—ã. –ß—Ç–æ —Ç—ã –≤—ã–±–µ—Ä–µ—à—å?</h4>
        <div class="form-check mb-2">
          <input class="form-check-input" type="radio" name="job_type" id="job1" value="—Å—Ç–∞–±–∏–ª—å–Ω–∞—è">
          <label class="form-check-label" for="job1">–°—Ç–∞–±–∏–ª—å–Ω–∞—è –∏ –≤–æ—Å—Ç—Ä–µ–±–æ–≤–∞–Ω–Ω–∞—è, –Ω–æ —Å —Ä—É—Ç–∏–Ω–Ω—ã–º–∏ –∑–∞–¥–∞—á–∞–º–∏</label>
        </div>
        <div class="form-check mb-2">
          <input class="form-check-input" type="radio" name="job_type" id="job2" value="—Ç–≤–æ—Ä—á–µ—Å–∫–∞—è">
          <label class="form-check-label" for="job2">–¢–≤–æ—Ä—á–µ—Å–∫–∞—è –∏ —è—Ä–∫–∞—è, –Ω–æ —Å –≤—ã—Å–æ–∫–æ–π –∫–æ–Ω–∫—É—Ä–µ–Ω—Ü–∏–µ–π</label>
        </div>
      </div>

      <!-- üîπ –†–∞–∑–¥–µ–ª 4: –°–ø–æ—Å–æ–± –ø–æ–ª—É—á–µ–Ω–∏—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ (–û–î–ò–ù–û–ß–ù–´–ô –í–´–ë–û–†) -->
      <div class="mb-5">
        <h4 class="mb-3 text-primary text-center">4. –ö–∞–∫ —á–∞—â–µ –≤—Å–µ–≥–æ —Ç—ã –ø–æ–ª—É—á–∞–µ—à—å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é?</h4>
        <div class="form-check mb-2">
          <input class="form-check-input" type="radio" name="learning_style" id="info1" value="—á—Ç–µ–Ω–∏–µ">
          <label class="form-check-label" for="info1">–ß–∏—Ç–∞—é –∫–Ω–∏–≥–∏, —Å—Ç–∞—Ç—å–∏, —Ç—Ä–µ–¥—ã</label>
        </div>
        <div class="form-check mb-2">
          <input class="form-check-input" type="radio" name="learning_style" id="info2" value="–∞—É–¥–∏–æ">
          <label class="form-check-label" for="info2">–°–ª—É—à–∞—é –∞—É–¥–∏–æ–∫–Ω–∏–≥–∏ –∏ –ø–æ–¥–∫–∞—Å—Ç—ã</label>
        </div>
        <div class="form-check mb-2">
          <input class="form-check-input" type="radio" name="learning_style" id="info3" value="–≤–∏–¥–µ–æ">
          <label class="form-check-label" for="info3">–°–º–æ—Ç—Ä—é –≤–∏–¥–µ–æ</label>
        </div>
      </div>

      <!-- üîπ –†–∞–∑–¥–µ–ª 5: –†–∏—Ç–º —Ä–∞–±–æ—Ç—ã (–û–î–ò–ù–û–ß–ù–´–ô –í–´–ë–û–†) -->
      <div class="mb-5">
        <h4 class="mb-3 text-primary text-center">5. –ö–∞–∫–æ–π —Ä–∏—Ç–º —Ä–∞–±–æ—Ç—ã —Ç–µ–±–µ –±–ª–∏–∂–µ?</h4>
        <div class="form-check mb-2">
          <input class="form-check-input" type="radio" name="work_rhythm" id="rhythm1" value="–æ–¥–Ω–∞_–∑–∞–¥–∞—á–∞">
          <label class="form-check-label" for="rhythm1">–õ—é–±–ª—é –ø–æ–ª–Ω–æ—Å—Ç—å—é –ø–æ–≥—Ä—É–∂–∞—Ç—å—Å—è –≤ –æ–¥–Ω—É –∑–∞–¥–∞—á—É</label>
        </div>
        <div class="form-check mb-2">
          <input class="form-check-input" type="radio" name="work_rhythm" id="rhythm2" value="–ø–µ—Ä–µ–∫–ª—é—á–∞—é—Å—å">
          <label class="form-check-label" for="rhythm2">–ü—Ä–µ–¥–ø–æ—á–∏—Ç–∞—é –ø–µ—Ä–µ–∫–ª—é—á–∞—Ç—å—Å—è –º–µ–∂–¥—É —Ä–∞–∑–Ω—ã–º–∏ –¥–µ–ª–∞–º–∏</label>
        </div>
        <div class="form-check mb-2">
          <input class="form-check-input" type="radio" name="work_rhythm" id="rhythm3" value="–Ω–µ—Å–∫–æ–ª—å–∫–æ">
          <label class="form-check-label" for="rhythm3">–ö–æ–º—Ñ–æ—Ä—Ç–Ω–æ —Ä–∞–±–æ—Ç–∞—é –Ω–∞–¥ –Ω–µ—Å–∫–æ–ª—å–∫–∏–º–∏ –∑–∞–¥–∞—á–∞–º–∏ –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ</label>
        </div>
      </div>

      <!-- üîπ –†–∞–∑–¥–µ–ª 6: –ò–≥—Ä—ã (–ú–ù–û–ñ–ï–°–¢–í–ï–ù–ù–´–ô –í–´–ë–û–†) -->
      <div class="mb-5">
        <h4 class="mb-3 text-primary text-center">6. –ö–∞–∫–∏–µ –Ω–µ–∫–æ–º–ø—å—é—Ç–µ—Ä–Ω—ã–µ –∏–≥—Ä—ã —Ç–µ–±–µ –Ω—Ä–∞–≤—è—Ç—Å—è?</h4>
        <div class="row">
          {% set games = [
            '–°–ø–æ—Ä—Ç–∏–≤–Ω—ã–µ –∫–æ–º–∞–Ω–¥–Ω—ã–µ (—Ñ—É—Ç–±–æ–ª, –≤–æ–ª–µ–π–±–æ–ª, –±–∞—Å–∫–µ—Ç–±–æ–ª)',
            '–°—Ç—Ä–∞—Ç–µ–≥–∏—á–µ—Å–∫–∏–µ (—à–∞—Ö–º–∞—Ç—ã, –≥–æ)',
            '–ê–∑–∞—Ä—Ç–Ω—ã–µ (–ø–æ–∫–µ—Ä, –ø—Ä–µ—Ñ–µ—Ä–∞–Ω—Å)',
            '–ö–≤–∏–∑—ã ("–ß—Ç–æ? –ì–¥–µ? –ö–æ–≥–¥–∞?")',
            '–ü–∞—Ä–Ω—ã–µ —Å–ø–æ—Ä—Ç–∏–≤–Ω—ã–µ (—Ç–µ–Ω–Ω–∏—Å, —Å–∫–≤–æ—à)',
            '–°–æ—Ü–∏–∞–ª—å–Ω—ã–µ –∏ –Ω–∞—Å—Ç–æ–ª—å–Ω—ã–µ (–∫–≤–µ—Å—Ç—ã, "–ú–∞—Ñ–∏—è")',
            '–ò–≥—Ä–∞—é —Ç–æ–ª—å–∫–æ –≤ –∫–æ–º–ø—å—é—Ç–µ—Ä–Ω—ã–µ –∏–≥—Ä—ã (Dota 2, –í–µ–¥—å–º–∞–∫)',
            '–ù–∏—á–µ–≥–æ –∏–∑ —ç—Ç–æ–≥–æ —Å–ø–∏—Å–∫–∞'
          ] %}
          {% for game in games %}
          <div class="col-md-6 mb-2">
            <div class="form-check">
              <input class="form-check-input" type="checkbox" name="games" id="game_{{ loop.index }}" value="{{ game }}">
              <label class="form-check-label" for="game_{{ loop.index }}">{{ game }}</label>
            </div>
          </div>
          {% endfor %}
        </div>
      </div>

      <!-- üîπ –†–∞–∑–¥–µ–ª 7: –î–µ—Ç—Å–∫–∏–µ –ø—Ä–µ–¥–ø–æ—á—Ç–µ–Ω–∏—è (–ú–ù–û–ñ–ï–°–¢–í–ï–ù–ù–´–ô –í–´–ë–û–†) -->
      <div class="mb-5">
        <h4 class="mb-3 text-primary text-center">7. –ß—Ç–æ —Ç—ã –±–æ–ª—å—à–µ –≤—Å–µ–≥–æ –ª—é–±–∏–ª –≤ –¥–µ—Ç—Å—Ç–≤–µ?</h4>
        <div class="row">
          {% set childhood = [
            '–†–∏—Å–æ–≤–∞—Ç—å –∏–ª–∏ –¥–µ–ª–∞—Ç—å –ø–æ–¥–µ–ª–∫–∏',
            '–ò–≥—Ä–∞—Ç—å –≤ –∫–æ–º–ø—å—é—Ç–µ—Ä–Ω—ã–µ –∏–≥—Ä—ã',
            '–ü–æ–∫–∞–∑—ã–≤–∞—Ç—å –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏—è, –ø–µ—Ç—å, —Ç–∞–Ω—Ü–µ–≤–∞—Ç—å',
            '–ò–≥—Ä–∞—Ç—å –≤ –¥–æ–∫—Ç–æ—Ä–∞ –∏–ª–∏ –ª–µ—á–∏—Ç—å –ø–∏—Ç–æ–º—Ü–µ–≤',
            '–ò–≥—Ä–∞—Ç—å –≤ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä, —Ä–∞–∑–±–∏—Ä–∞—Ç—å —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞',
            '–û—Ä–≥–∞–Ω–∏–∑–æ–≤—ã–≤–∞—Ç—å –∏–≥—Ä—ã —Å –¥—Ä—É–≥–∏–º–∏ –¥–µ—Ç—å–º–∏',
            '–ù–∞—Ä—è–∂–∞—Ç—å—Å—è –∏ —É—Å—Ç—Ä–∞–∏–≤–∞—Ç—å –ø–æ–∫–∞–∑—ã –º–æ–¥',
            '–°–æ—á–∏–Ω—è—Ç—å –∏ —Ä–∞—Å—Å–∫–∞–∑—ã–≤–∞—Ç—å –∏—Å—Ç–æ—Ä–∏–∏'
          ] %}
          {% for act in childhood %}
          <div class="col-md-6 mb-2">
            <div class="form-check">
              <input class="form-check-input" type="checkbox" name="childhood" id="child_{{ loop.index }}" value="{{ act }}">
              <label class="form-check-label" for="child_{{ loop.index }}">{{ act }}</label>
            </div>
          </div>
          {% endfor %}
        </div>
      </div>

      <!-- –ö–Ω–æ–ø–∫–∞ –æ—Ç–ø—Ä–∞–≤–∫–∏ -->
      <div class="text-center">
        <button type="button" id="selectBtn" class="btn btn-success btn-lg mt-3 px-5">–ó–∞–≤–µ—Ä—à–∏—Ç—å —Ç–µ—Å—Ç</button>
      </div>
    </form>
  </div>
</div>

<script>
document.getElementById('selectBtn').addEventListener('click', function () {
  const params = new URLSearchParams();

  // –ú–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã–π –≤—ã–±–æ—Ä (—á–µ–∫–±–æ–∫—Å—ã)
  const multipleChoiceFields = ['like', 'games', 'childhood'];
  multipleChoiceFields.forEach(field => {
    document.querySelectorAll(`#subjectForm input[name="${field}"]:checked`).forEach(cb => {
      params.append(field, cb.value);
    });
  });

  // –û–¥–∏–Ω–æ—á–Ω—ã–π –≤—ã–±–æ—Ä (—Ä–∞–¥–∏–æ–∫–Ω–æ–ø–∫–∏)
  const singleChoiceFields = ['career_path', 'job_type', 'learning_style', 'work_rhythm'];
  singleChoiceFields.forEach(field => {
    const selected = document.querySelector(`#subjectForm input[name="${field}"]:checked`);
    if (selected) {
      params.append(field, selected.value);
    }
  });

  window.location.href = `/answer_ege?${params.toString()}`;
});
</script>

{% endblock %}